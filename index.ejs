<!DOCTYPE html>
<html ng-app="WalkImproveApp">
  <head>
    <meta charset="utf-8">
    <title>WalkImrpove</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>

    <script src="https://maps.googleapis.com/maps/api/js?=AIzaSyCLS102f1Q_mXlz_qGyZXYOnC9aDBezBqM"></script>
    <script>
    function initialize() {
      var mapProp = {
        center:new google.maps.LatLng(34.02,-118.5),
        zoom:14,
        mapTypeId:google.maps.MapTypeId.ROADMAP
      };
      var map=new google.maps.Map(document.getElementById("googleMap"),mapProp);
    }
    google.maps.event.addDomListener(window, 'load', initialize);
    </script>
    <script type="text/javascript">
       var backendUrl = "<%= backendUrl %>";
    </script>
  </head>
  <body>
  <div class="back">

    <section ng-controller="ReportsController as reportsCtrl" >
    <h1> Welcome to WalkImprove!
    <p>Use the interactive map to help figure out where you are and then use the form below to post poor sidewalk conditions</p>

    <div id="googleMap" style="width:500px;height:380px;"></div>

    <h3>Poor side walk report form</h3>
    <form id="newReport" ng-submit="reportsCtrl.addReport()">
    <div>
      <label for="id">ID (placeholder to be removed for autogenerated mongo id):</label>
      <input type="text" name="id" ng-model="reportsCtrl.newReport.id">
    </div>
    <div>
      <label for="intersection">Intersection ex. 21st and Pico:</label>
      <input type="text" ng-model="reportsCtrl.newReport.intersection" name="intersection">
    </div>
    <div>
      <label for="direction">Direction ex. North West:</label>
      <input type="text" ng-model="reportsCtrl.newReport.direction" name="direction">
    </div>
    <div>
      <label for="details">Details ex. Tree Roots:</label>
      <input type="text" ng-model="reportsCtrl.newReport.details" name="details">
    </div>
    <div>
      <input type="submit" value="Add Report">
    </div>
  </form>

      <div class="heading" class="back">
        <h2>Current Reports</h2>
      </div>
      <hr>

      <ul id="reports">
        <li ng-repeat="report in reportsCtrl.all">
          <div id="posttop">Poor SideWalk Report</div>
          <h3> @Intersection</h3>{{report.intersection}}
          <h3> Direction</h3> {{report.direction}}
          <h3> Details</h3> {{report.details}}
          <h3> Delete Report </h3> <button ng-click="reportsCtrl.deleteReport(report)" class="delete">X</button>
          <hr>
      </li>
      </ul>

    </section>
  </div>

    <script src="./js/app.js" charset="utf-8"></script>
    <script src="./js/reportsContoller.js" charset="utf-8"></script>
  </body>
</html>
